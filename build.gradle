
plugins {
    id 'application'
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

group = 'cubic'
version = '1.0'

repositories {
    mavenCentral()
}

test {
    useJUnitPlatform()
}

dependencies {
    implementation("org.eclipse.jgit:org.eclipse.jgit:7.3.0.202506031305-r")
    implementation("org.eclipse.jetty:jetty-server:12.0.23")
    implementation("org.slf4j:slf4j-api:2.0.17")
    implementation("ch.qos.logback:logback-classic:1.5.18")
    implementation("com.github.spullara.mustache.java:compiler:0.9.14")
    implementation("org.hamcrest:hamcrest:3.0") // unusual - needed in main and test
    implementation('org.json:json:20231013')

    compileOnly("jakarta.servlet:jakarta.servlet-api:4.0.4")

    testImplementation("org.junit.jupiter:junit-jupiter-api:5.13.4")
    testImplementation("org.junit.jupiter:junit-jupiter:5.13.4")
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

application {
    mainClassName = 'cubic.Main'
}

shadowJar {
    archiveBaseName.set('wiki')
    archiveClassifier.set('')
    archiveVersion.set(version)
}